

<!DOCTYPE html>
<html class="writer-html5" lang="es" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuración &mdash; documentación de API Gateway: Cliente de API en Python - 3</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=01b451dc"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/translations.js?v=f85f4cfb"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Ejemplo" href="gettingstarted.example.html" />
    <link rel="prev" title="Instalación y actualización" href="gettingstarted.install.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            API Gateway: Cliente de API en Python
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="gettingstarted.index.html">Empezando</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.legal.html">Términos y Condiciones de Uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.install.html">Instalación y actualización</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuración</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.example.html">Ejemplo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev.index.html">Desarrollo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">apigatewaycl</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">API Gateway: Cliente de API en Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="gettingstarted.index.html">Empezando</a></li>
      <li class="breadcrumb-item active">Configuración</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/gettingstarted.setup.rst.txt" rel="nofollow"> Ver código fuente de la página</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuracion">
<h1>Configuración<a class="headerlink" href="#configuracion" title="Link to this heading"></a></h1>
<p>Antes de empezar a utilizar el cliente de API de API Gateway Python, deberás considerar lo siguiente:</p>
<ol class="arabic simple">
<li><p>El tipo de cliente a utilizar.</p></li>
<li><p>Autenticación requerida para su uso.</p></li>
</ol>
<section id="cliente-generico-vs-clientes-especificos">
<h2>Cliente genérico vs clientes específicos<a class="headerlink" href="#cliente-generico-vs-clientes-especificos" title="Link to this heading"></a></h2>
<p>Este cliente de API Gateway tiene 2 formas de acceder a los recursos de la API:</p>
<ol class="arabic simple">
<li><p>Cliente genérico: es un cliente que permite consumir de manera sencilla cualquier
recurso de la API. Que actualmente exista o sea añadido en el futuro. Esto se logra
porque el cliente recibe los nombres de los recursos, la parte de la URL que permite
acceder al servicio web solicitado. Se proveen métodos que sólo sirven para acceder
a la API de manera genérica, pero no para hacer acciones específicas ni obtener los
datos en un formato específico. Este cliente es el que entrega mayor flexibilidad, ya
que cada programador decide qué recursos desea consumir y cómo desea obtener los datos.</p></li>
<li><p>Clientes específicos: son clases que permiten acceder de forma más natural a los
recursos de la API. Al instanciar la clase, se tendrán métodos sencillos con parámetros
para consumir la API. Sin ser necesario preocuparse de recordar o buscar en la
documentación el nombre de los recursos que se deben consumir. Además de entregar los
datos ya «listos» para ser usados en vez de tener que preocuparse de qué método del
cliente genérico usar para obtenerlos en el formato requerido.</p></li>
</ol>
</section>
<section id="autenticacion-en-api-gateway">
<h2>Autenticación en API Gateway<a class="headerlink" href="#autenticacion-en-api-gateway" title="Link to this heading"></a></h2>
<p>Lo más simple, y recomendado, es usar una variable de entorno con el
<a class="reference external" href="https://apigateway.cl/dashboard#api-auth">token del usuario</a>, la cual será
reconocida automáticamente por el cliente:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">APIGATEWAY_API_TOKEN</span><span class="o">=</span><span class="s2">&quot;aquí-tu-token-de-usuario&quot;</span>
</pre></div>
</div>
<p>Si no se desea usar una variable de entorno, al instanciar los objetos se
deberá indicar el token del usuario. Ejemplo con el cliente genérico:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">apigatewaycl</span>
<span class="n">APIGATEWAY_API_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;aquí-tu-token-de-usuario&quot;</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">apigatewaycl</span><span class="o">.</span><span class="n">api_client</span><span class="o">.</span><span class="n">ApiClient</span><span class="p">(</span><span class="n">APIGATEWAY_API_TOKEN</span><span class="p">)</span>
</pre></div>
</div>
<p>El siguiente es un ejemplo con el cliente específico de Rcv. Primero se pasan
los datos obligatorios de RUT y clave del usuario. Luego además se pasa el token
del usuario de la API.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">apigatewaycl</span>
<span class="n">APIGATEWAY_API_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;aquí-tu-token-de-usuario&quot;</span>
<span class="n">SII_USUARIO_RUT</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">SII_USUARIO_CLAVE</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">rcv_client</span> <span class="o">=</span> <span class="n">Rcv</span><span class="p">(</span><span class="n">SII_USUARIO_RUT</span><span class="p">,</span> <span class="n">SII_USUARIO_CLAVE</span><span class="p">,</span> <span class="n">api_token</span> <span class="o">=</span> <span class="n">APIGATEWAY_API_TOKEN</span><span class="p">)</span>
</pre></div>
</div>
<p>Si se usan variables de entorno, en ambos ejemplos se puede omitir el argumento <cite>api_token</cite>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="gettingstarted.install.html" class="btn btn-neutral float-left" title="Instalación y actualización" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="gettingstarted.example.html" class="btn btn-neutral float-right" title="Ejemplo" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2024, API Gateway.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>